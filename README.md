## 日记生成器 App - 开发文档与使用文档

### 一、项目简介

“日记生成器”是一款 Android 应用，支持用户生成带有时间、心情、推荐语和颜文字的个性化日记内容。应用具备深色/浅色模式切换、自定义设置项、开屏页、推荐语数据库等功能。

----------------------------------------------------------------------------------------

### 二、开发环境

* **开发工具**：Android Studio Hedgehog
* **编程语言**：Kotlin
* **最低支持 SDK**：21
* **目标 SDK**：34
* **构建工具**：Gradle（使用 AndroidX，Jetifier 启用）

----------------------------------------------------------------------------------------

### 三、主要功能模块

#### 1. 主界面（MainActivity）

* 仅显示“日记生成器”标题
* 提供生成日记的核心交互（通过按钮触发）

#### 2. 设置界面（SettingsActivity）

* 支持深色 / 浅色 / 跟随系统三种模式切换
* 使用 MaterialButtonToggleGroup 作为主题选择器
* 设置值通过 SharedPreferences 保存

#### 3. 开屏页（SplashActivity）

* 显示 logo 和“日记生成器”字样
* 包含“跳过”按钮
* 启动动画带淡入淡出效果

#### 4. 开屏页设置（SplashSettingsActivity）

* 开关控制是否启用开屏页
* 可自定义动画时长（1\~10 秒）
* 所有设置实时保存

#### 5. 生成设置页面（SettingsGenerateActivity）

* 控制是否生成心情与推荐语
* 自动保存设置

#### 6. 主题初始化（MoodDiaryApp.kt）

* 自定义 Application 类，在启动时读取用户设置的主题，并设置全局模式，确保首次打开页面主题正确。

----------------------------------------------------------------------------------------

### 四、数据库支持

* SQLite 本地数据库
* 提供 12 种心情，每种包含 30+ 推荐语与 10+ 表情
* 插入语句格式标准，支持 Navicat 批量导入

----------------------------------------------------------------------------------------

### 五、使用方法

#### 1. 启动应用

首次进入显示开屏页，如启用跳过可直接进入主界面。

#### 2. 设置操作

* 进入“设置”可选择主题模式
* 可配置是否开启开屏页以及动画时长
* 可配置是否生成推荐语和心情（SettingsGenerate）

#### 3. 生成日记

* 在主界面点击按钮即可生成一条格式化日记，内容包括：日期、星期、时间、心情、颜文字、推荐语

#### 4. 深浅色模式同步逻辑

* 应用启动时通过 Application 读取 SharedPreferences 进行模式初始化，确保同步。

----------------------------------------------------------------------------------------

### 六、后续建议

* 增加语音输入支持
* 支持导出为 PDF
* 增加更多模板和用户自定义项

----------------------------------------------------------------------------------------

### 七、备注

* 所有 UI 均已适配深色与浅色模式
* 所有设置页面均在返回、跳转、手势关闭等场景下自动保存

----------------------------------------------------------------------------------------

### 八、开发日志
✅ 项目初始阶段（2025.04 初）
✅ 项目设定为 Android 应用，命名为“日记生成器”；

✅ 功能确定：自动格式日记生成、智能心情判断、推荐语、表情符号支持；

✅ 使用 Kotlin 开发，界面采用 Material Design 风格；

✅ 数据存储使用 SQLite，支持表情与推荐语预填数据库。

--------------------------------------------


🎨 UI 与功能实现（2025.04 中下旬）
✅ 完成主界面与生成按钮；

✅ 完成推荐语/颜文字随机生成逻辑；

✅ 添加设置页面，功能包括：

切换主题（浅色 / 深色 / 系统默认）；

设置是否启用开屏页；

设置是否自动生成心情/推荐语；

✅ 实现 Splash 启动页，支持 Logo + 淡入淡出动画 + 跳过按钮；

✅ 所有界面支持无障碍优化、深浅色切换、自动保存设置；

✅ 修复布局问题：EditText 输入类型、自动填充提示、按钮宽度、TextView 对比度优化等；

✅ 所有字符串已抽取至 strings.xml，支持本地化。

--------------------------------------------

🧪 功能测试与优化（2025.05 初）
✅ 生成逻辑测试：凌晨补记识别、表情&推荐语符合心情语义；

✅ 导出与分享功能开发完毕；

✅ 添加历史记录页面，展示过往生成的日记；

✅ 修复“点击生成导致闪退”问题；

✅ 所有功能整合成功，已完成全部开发目标；

✅ 图表统计界面完成，支持按心情分布查看历史记录。